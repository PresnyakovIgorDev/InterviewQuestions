**Finalize() и Dispose()**

Реализация метода [Dispose](https://docs.microsoft.com/ru-ru/dotnet/api/system.idisposable.dispose) необходима для освобождения неуправляемых ресурсов, которые использует ваше приложение. Сборщик мусора .NET не выделяет и не освобождает неуправляемую память.

**Finalize** Позволяет объекту попытаться освободить 
ресурсы и выполнить другие операции очистки, перед тем как он будет 
уничтожен во время сборки мусора. Точное время выполнения метода завершения не определено

 [Finalize](https://docs.microsoft.com/ru-ru/dotnet/api/system.object.finalize?view=netframework-4.8) Метод может не выполняться до завершения или вообще не выполняться 

Еще один важный момент - вызов в методе Dispose метода `GC.SuppressFinalize(this)`. GC.SuppressFinalize не позволяет системе выполнить 
вызвать метод Finalize для данного объекта.



#### Общие рекомендации по использованию Finalize и Dispose

- Деструктор следует реализовывать только у тех объектов, которым  он действительно необходим, так как метод Finalize оказывает сильное  влияние на производительность
- После вызова метода Dispose необходимо блокировать у объекта вызов метода Finalize с помощью  GC.SuppressFinalize
- При создании производных классов от базовых, которые реализуют  интерфейс IDisposable, следует также вызывать метод Dispose базового  класса:
- Отдавайте предпочтение комбинированному шаблону, реализующему как метод Dispose, так и деструктор

```c#
public class SomeClass: IDisposable
{
    private bool disposed = false; 
    protected virtual void Dispose(bool disposing)
    {
        if (!disposed)
        {
            if (disposing)
            {
                // Освобождаем управляемые ресурсы
            }
            // освобождаем неуправляемые объекты
            disposed = true;
        }
    }
    // Деструктор
    ~SomeClass()
    {
        Dispose (false);
    }
}
```